<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../helpproject.xsl" ?>
<topic template="Default" lasteditedby="xp" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../helpproject.xsd">
  <title translate="true">Developer&apos;s Guide</title>
  <body>
    <header>
      <para styleclass="Heading1"><text styleclass="Heading1" translate="true">Developer&apos;s Guide</text></para>
    </header>
    <para styleclass="Normal"><link displaytype="text" defaultstyle="true" type="topiclink" href="How-to-build-project-from-mave" styleclass="Normal" style="font-size:12pt;" translate="true">How to build project from maven template</link></para>
    <para styleclass="Normal"><link displaytype="text" defaultstyle="true" type="topiclink" href="How-to-write-and-debug-scripts" styleclass="Normal" style="font-size:12pt;" translate="true">How to write and debug scripts in IntelliJ IDEA</link></para>
    <para styleclass="Normal"><link displaytype="text" defaultstyle="true" type="topiclink" href="How-to-use-SOAP-integration-in" styleclass="Normal" style="font-size:12pt;" translate="true">How to use SOAP integration in TrackStudio</link></para>
    <para styleclass="Normal"><link displaytype="text" defaultstyle="true" type="topiclink" href="Compiling-TrackStudio-from-sou" styleclass="Normal" style="font-size:12pt;" translate="true">Compiling TrackStudio from source code</link></para>
    <para styleclass="Normal"><link displaytype="text" defaultstyle="true" type="topiclink" href="How-to-Make-Dynamic-List-of-Po" styleclass="Normal" style="font-size:12pt;" translate="true">How to Make Dynamic List of Possible Values of Custom Field</link></para>
    <para styleclass="Normal"><link displaytype="text" defaultstyle="true" type="topiclink" href="How-to-Make-the-Value-of-Custo" styleclass="Normal" style="font-size:12pt;" translate="true">How to Make the Value of Custom Field Computable</link></para>
    <para styleclass="Normal"><link displaytype="text" defaultstyle="true" type="topiclink" href="Integer" styleclass="Normal" style="font-size:12pt;" translate="true">Integer</link></para>
    <para styleclass="Normal"><link displaytype="text" defaultstyle="true" type="topiclink" href="Number-of-days-since-task-upda" styleclass="Normal" style="font-size:12pt;" translate="true">Number of days since task update</link></para>
    <para styleclass="Normal"><link displaytype="text" defaultstyle="true" type="topiclink" href="How-to-Perform-Automatic-Task-" styleclass="Normal" style="font-size:12pt;" translate="true">How to Perform Automatic Task Escalation</link></para>
    <para styleclass="Normal"><link displaytype="text" defaultstyle="true" type="topiclink" href="How-to-Save-the-History-of-Cha" styleclass="Normal" style="font-size:12pt;" translate="true">How to Save the History of Changes in Task Parameters</link></para>
    <para styleclass="Normal"><link displaytype="text" defaultstyle="true" type="topiclink" href="How-to-check-data-before-savin" styleclass="Normal" style="font-size:12pt;" translate="true">How to check data before saving the task (Before Task Edit Trigger)</link></para>
    <para styleclass="Normal"><link displaytype="text" defaultstyle="true" type="topiclink" href="How-to-copy-access-control-rul" styleclass="Normal" style="font-size:12pt;" translate="true">How to copy access control rules into other project using single button</link></para>
    <para styleclass="Normal"><link displaytype="text" defaultstyle="true" type="topiclink" href="How-to-import-emails-from-user" styleclass="Normal" style="font-size:12pt;" translate="true">How to import emails from users to tasks</link></para>
    <para styleclass="Normal"><link displaytype="text" defaultstyle="true" type="topiclink" href="How-to-perform-actions-on-mult" styleclass="Normal" style="font-size:12pt;" translate="true">How to perform actions on multiple tasks</link></para>
    <para styleclass="Normal"><link displaytype="text" defaultstyle="true" type="topiclink" href="How-to-use-REST-API" styleclass="Normal" style="font-size:12pt;" translate="true">How to use REST API</link></para>
    <para styleclass="Normal"><link displaytype="text" defaultstyle="true" type="topiclink" href="List-of-Similar-Tasks" styleclass="Normal" style="font-size:12pt;" translate="true">List of Similar Tasks</link></para>
    <para styleclass="Normal" style="margin-top:16px; line-height:1.00; background-color:#ffffff; tabstops:none;"><text styleclass="Normal" style="font-family:Verdana; vertical-align:baseline; color:#000000;" translate="true">TrackStudio has a wide scope of applicability. The basic principles of this system are its universality and scalability. No matter how complex and difficult your business-process is, there is always a way out for executing it in TrackStudio. May be, the obtained result is not as elegant as in specially designed systems for the required task (if it does exist at all), and more or less, this is a good working tool.</text></para>
    <para styleclass="Normal" style="margin-top:16px; line-height:1.00; background-color:#ffffff; tabstops:none;"><text styleclass="Normal" style="font-family:Verdana; vertical-align:baseline; color:#000000;" translate="true">Additional functionality in TrackStudio can be implemented with the help of scripts and triggers. Scripts generally correspond to different types of computable custom fields. Triggers correspond to the events, taking place with the tasks, particularly: creation of tasks, their editing and executing other operations with the tasks. Scripts are executed every time while viewing the task, when value of the field is to be displayed, and triggers are executed when associated actions are executed.</text></para>
    <para styleclass="Normal" style="margin-top:16px; line-height:1.00; background-color:#ffffff; tabstops:none;"><text styleclass="Normal" style="font-family:Verdana; vertical-align:baseline; color:#000000;" translate="true">Scripts and triggers can be of two types: interpretable and complied. Interpretable scripts are the java-code, processed by the interpreter Beanshell. It is a bit easier to write these types of scripts, as they do not require datatype matching and presence of JDK is also not required for compilation.</text></para>
    <para styleclass="Normal" style="line-height:1.00; background-color:#ffffff; tabstops:none;"><text styleclass="Normal" style="font-family:Verdana; vertical-align:baseline; color:#000000;" translate="true">Compiled scripts have many advantages:</text></para>
    <list id="1" type="ul" listtype="bullet" formatstring="&#183;" format-charset="SYMBOL_CHARSET" levelreset="true" legalstyle="false" startfrom="1" styleclass="List" style="text-align:left; text-indent:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; line-height:1.19; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:none; font-family:Symbol; font-size:12pt; color:#000000;">
      <li styleclass="List" style="text-align:left; text-indent:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; line-height:1.19; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:none;"><text styleclass="List" style="font-family:Verdana; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">first of all, they are executed faster as there is no need to load them and initialize the interpreter</text></li>
      <li styleclass="List" style="text-align:left; text-indent:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; line-height:1.19; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:none;"><text styleclass="List" style="font-family:Verdana; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">secondly, if the script is compiled then it is sure that there is no syntax error in it</text></li>
      <li styleclass="List" style="text-align:left; text-indent:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; line-height:1.19; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:none;"><text styleclass="List" style="font-family:Verdana; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">and thirdly, you can use the entire capabilities of Java in the compiled scripts. For example, inheritance and static variables</text></li>
    </list>
    <para styleclass="Heading2" style="text-align:left; text-indent:0px; margin-top:24px; margin-right:0px; margin-bottom:0px; margin-left:0px; line-height:1.00; background-color:#ffffff; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:none;"><text styleclass="Heading2" style="font-family:Verdana; font-size:14pt; font-weight:bold; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">How to write Scripts and Triggers?</text></para>
    <para styleclass="Normal" style="margin-top:16px; line-height:1.00; background-color:#ffffff; tabstops:none;"><text styleclass="Normal" style="font-family:Verdana; vertical-align:baseline; color:#000000;" translate="true">For writing and compiling the scripts and triggers, you will require:</text></para>
    <para styleclass="Normal" style="margin-top:16px; line-height:1.00; background-color:#ffffff; tabstops:none;"><text styleclass="Normal" style="font-family:Verdana; vertical-align:baseline; color:#000000;" translate="true">JDK (java development kit), which can be downloaded from the website</text><text styleclass="apple-converted-space" style="font-family:Verdana; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">&#32;</text><link displaytype="text" defaultstyle="true" type="weblink" href="http://java.com/" styleclass="ext" style="font-family:Verdana; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:underline; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">http://java.com</link><text styleclass="apple-converted-space" style="font-family:Verdana; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">&#32;</text><text styleclass="Normal" style="font-family:Verdana; vertical-align:baseline; color:#000000;" translate="true">(see that it is JDK and not JRE)</text></para>
    <para styleclass="Normal" style="line-height:1.00; background-color:#ffffff; tabstops:none;"><text styleclass="Normal" style="font-family:Verdana; vertical-align:baseline; color:#000000;" translate="true">You will need the file trackstudio.jar (located in /webapps/TrackStudio/WEB-INF/lib/trackstudio.jar), which is available in any version of TrackStudio package. It would be better, if you use some IDE, e.g. IDEA, Eclipse or Netbeans</text></para>
    <para styleclass="Normal" style="margin-top:16px; line-height:1.00; background-color:#ffffff; tabstops:none;"><text styleclass="Normal" style="font-family:Verdana; vertical-align:baseline; color:#000000;" translate="true">All the scripts and triggers must implement one of the following triggers:</text></para>
    <para styleclass="Normal_workflow" style="text-align:left; text-indent:0px; margin-top:16px; margin-right:0px; margin-bottom:0px; margin-left:0px; line-height:1.00; background-color:#ffffcc; white-space:normal; page-break-inside:auto; page-break-after:auto; padding:8px; border-color:#606060; border-style:single; border-width:1px; tabstops:none;"><text styleclass="Normal_workflow" style="font-family:Verdana; font-size:12pt; font-weight:bold; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">com.trackstudio.external.OperationTrigger</text><text styleclass="apple-converted-space" style="font-family:Verdana; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">&#32;</text><text styleclass="workflow" style="font-family:Verdana; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">- for the triggers, executed during operations with tasks</text></para>
    <para styleclass="Normal_workflow" style="text-align:left; text-indent:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; line-height:1.00; background-color:#ffffcc; white-space:normal; page-break-inside:auto; page-break-after:auto; padding:8px; border-color:#606060; border-style:single; border-width:1px; tabstops:none;"><text styleclass="Normal_workflow" style="font-family:Verdana; font-size:12pt; font-weight:bold; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">com.trackstudio.external.TaskBulkProcessor</text><text styleclass="apple-converted-space" style="font-family:Verdana; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">&#32;</text><text styleclass="workflow" style="font-family:Verdana; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">- for triggers, executed on the tasks selected from the list</text></para>
    <para styleclass="Normal_workflow" style="text-align:left; text-indent:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; line-height:1.00; background-color:#ffffcc; white-space:normal; page-break-inside:auto; page-break-after:auto; padding:8px; border-color:#606060; border-style:single; border-width:1px; tabstops:none;"><text styleclass="Normal_workflow" style="font-family:Verdana; font-size:12pt; font-weight:bold; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">com.trackstudio.external.TaskTrigger</text><text styleclass="apple-converted-space" style="font-family:Verdana; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">&#32;</text><text styleclass="workflow" style="font-family:Verdana; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">- for the triggers, executed during the creation or editing of tasks</text></para>
    <para styleclass="Normal_workflow" style="text-align:left; text-indent:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; line-height:1.00; background-color:#ffffcc; white-space:normal; page-break-inside:auto; page-break-after:auto; padding:8px; border-color:#606060; border-style:single; border-width:1px; tabstops:none;"><text styleclass="Normal_workflow" style="font-family:Verdana; font-size:12pt; font-weight:bold; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">com.trackstudio.external.TaskUDFLookupScript</text><text styleclass="apple-converted-space" style="font-family:Verdana; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">&#32;</text><text styleclass="workflow" style="font-family:Verdana; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">- for the sets of possible values of tasks custom fields</text></para>
    <para styleclass="Normal_workflow" style="text-align:left; text-indent:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; line-height:1.00; background-color:#ffffcc; white-space:normal; page-break-inside:auto; page-break-after:auto; padding:8px; border-color:#606060; border-style:single; border-width:1px; tabstops:none;"><text styleclass="Normal_workflow" style="font-family:Verdana; font-size:12pt; font-weight:bold; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">com.trackstudio.external.TaskUDFValueScript</text><text styleclass="apple-converted-space" style="font-family:Verdana; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">&#32;</text><text styleclass="workflow" style="font-family:Verdana; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">- for the values of tasks custom fields</text></para>
    <para styleclass="Normal_workflow" style="text-align:left; text-indent:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; line-height:1.00; background-color:#ffffcc; white-space:normal; page-break-inside:auto; page-break-after:auto; padding:8px; border-color:#606060; border-style:single; border-width:1px; tabstops:none;"><text styleclass="Normal_workflow" style="font-family:Verdana; font-size:12pt; font-weight:bold; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">com.trackstudio.external.UserUDFLookupScript</text><text styleclass="apple-converted-space" style="font-family:Verdana; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">&#32;</text><text styleclass="workflow" style="font-family:Verdana; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">- for the sets of possible values of user custom fields</text></para>
    <para styleclass="Normal_workflow" style="text-align:left; text-indent:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; line-height:1.00; background-color:#ffffcc; white-space:normal; page-break-inside:auto; page-break-after:auto; padding:8px; border-color:#606060; border-style:single; border-width:1px; tabstops:none;"><text styleclass="Normal_workflow" style="font-family:Verdana; font-size:12pt; font-weight:bold; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">com.trackstudio.external.UserUDFValueScript</text><text styleclass="apple-converted-space" style="font-family:Verdana; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">&#32;</text><text styleclass="workflow" style="font-family:Verdana; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">- for the values of user custom fields</text></para>
    <para styleclass="Normal" style="margin-top:16px; line-height:1.00; background-color:#ffffff; tabstops:none;"><text styleclass="Normal" style="font-family:Verdana; vertical-align:baseline; color:#000000;" translate="true">Besides, complied scripts must remain in the packages in conformity with the structure of folders inside plugin in TrackStudio. For example, for the script, implementing the trigger Before Add Message the path must be</text></para>
    <para styleclass="Normal_workflow" style="text-align:left; text-indent:0px; margin-top:16px; margin-right:0px; margin-bottom:0px; margin-left:0px; line-height:1.00; background-color:#ffffcc; white-space:normal; page-break-inside:auto; page-break-after:auto; padding:8px; border-color:#606060; border-style:single; border-width:1px; tabstops:none;"><text styleclass="workflow" style="font-family:Verdana; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">./etc/plugins/scripts/before_add_message/</text></para>
    <para styleclass="Normal" style="margin-top:16px; line-height:1.00; background-color:#ffffff; tabstops:none;"><text styleclass="Normal" style="font-family:Verdana; vertical-align:baseline; color:#000000;" translate="true">And correspondingly the package</text><text styleclass="apple-converted-space" style="font-family:Verdana; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">&#32;</text><text styleclass="Normal" style="font-family:Verdana; font-weight:bold; vertical-align:baseline; color:#000000;" translate="true">scripts.before_add_message</text></para>
    <para styleclass="Code Example" style="margin-top:16px; line-height:1.00; background-color:#ffffcc; padding:8px; border-color:#606060; border-style:single; border-width:1px; tabstops:none;"><text styleclass="workflow" style="font-family:&apos;Courier New&apos;; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">package scripts.before_add_message;</text><br/><text styleclass="workflow" style="font-family:&apos;Courier New&apos;; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">import com.trackstudio.exception.GranException;</text><br/><text styleclass="workflow" style="font-family:&apos;Courier New&apos;; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">import com.trackstudio.exception.UserException;</text><br/><text styleclass="workflow" style="font-family:&apos;Courier New&apos;; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">import com.trackstudio.external.OperationTrigger;</text><br/><text styleclass="workflow" style="font-family:&apos;Courier New&apos;; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">import com.trackstudio.secured.SecuredMessageTriggerBean;</text><br/><text styleclass="workflow" style="font-family:&apos;Courier New&apos;; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">import com.trackstudio.tools.textfilter.HTMLEncoder;</text><br/><text styleclass="workflow" style="font-family:&apos;Courier New&apos;; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">public class CheckSpentTimeScript implements OperationTrigger {</text><br/><text styleclass="workflow" style="font-family:&apos;Courier New&apos;; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true"> &#160; &#160;public static final int TIME_LIMIT = 1; /** time limit in milliseconds */</text><br/><text styleclass="workflow" style="font-family:&apos;Courier New&apos;; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true"> &#160; &#160;public static final int K = 20; /** conversion factors */</text><br/><text styleclass="workflow" style="font-family:&apos;Courier New&apos;; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true"> &#160; &#160;@Override</text><br/><text styleclass="workflow" style="font-family:&apos;Courier New&apos;; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true"> &#160; &#160;public SecuredMessageTriggerBean execute(SecuredMessageTriggerBean message) throws GranException {</text><br/><text styleclass="workflow" style="font-family:&apos;Courier New&apos;; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true"> &#160; &#160; &#160; &#160;String desc = HTMLEncoder.stripHtmlTags(message.getDescription());</text><br/><text styleclass="workflow" style="font-family:&apos;Courier New&apos;; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true"> &#160; &#160; &#160; &#160;if (message.getHrs() != null &amp;&amp; message.getHrs() &gt; TIME_LIMIT &amp;&amp; desc.length()/message.getHrs() &lt; K){</text><br/><text styleclass="workflow" style="font-family:&apos;Courier New&apos;; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true"> &#160; &#160; &#160; &#160; &#160; &#160;throw new UserException(&quot;Please &quot;+ message.getSubmitter().getName()+&quot;, describe what you did at that time!&quot;);</text><br/><text styleclass="workflow" style="font-family:&apos;Courier New&apos;; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true"> &#160; &#160; &#160; &#160;}</text><br/><text styleclass="workflow" style="font-family:&apos;Courier New&apos;; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true"> &#160; &#160; &#160; &#160;return message;</text><br/><text styleclass="workflow" style="font-family:&apos;Courier New&apos;; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true"> &#160; &#160;}</text><br/><text styleclass="workflow" style="font-family:&apos;Courier New&apos;; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">}</text></para>
    <para styleclass="Normal" style="margin-top:16px; line-height:1.00; background-color:#ffffff; tabstops:none;"><text styleclass="Normal" style="font-family:Verdana; vertical-align:baseline; color:#000000;" translate="true">This script can be compiled by the command</text></para>
    <para styleclass="Code Example" style="margin-top:16px; line-height:1.00; background-color:#000000; padding:8px; border-color:#cccccc; border-style:single; border-width:2px; tabstops:none;"><text styleclass="terminal" style="font-family:&apos;Courier New&apos;; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#ffffff; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">javac -cp path/trackstudio.jar CheckSpentTimeScript.java</text></para>
    <para styleclass="Normal" style="margin-top:16px; line-height:1.00; background-color:#ffffff; tabstops:none;"><text styleclass="Normal" style="font-family:Verdana; vertical-align:baseline; color:#000000;" translate="true">But it is better to use some IDE.</text></para>
    <para styleclass="Normal" style="line-height:1.00; background-color:#ffffff; tabstops:none;"><text styleclass="Normal" style="font-family:Verdana; vertical-align:baseline; color:#000000;" translate="true">Further, either save the obtained</text><text styleclass="apple-converted-space" style="font-family:Verdana; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">&#32;</text><text styleclass="Normal" style="font-family:Verdana; font-weight:bold; vertical-align:baseline; color:#000000;" translate="true">class</text><text styleclass="apple-converted-space" style="font-family:Verdana; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">&#32;</text><text styleclass="Normal" style="font-family:Verdana; vertical-align:baseline; color:#000000;" translate="true">in the folder</text><text styleclass="apple-converted-space" style="font-family:Verdana; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">&#32;</text><text styleclass="Normal" style="font-family:Verdana; font-weight:bold; vertical-align:baseline; color:#000000;" translate="true">./etc/plugins/scripts/before_add_message/</text><text styleclass="Normal" style="font-family:Verdana; vertical-align:baseline; color:#000000;" translate="true">, or create jar</text></para>
    <para styleclass="Code Example" style="margin-top:16px; line-height:1.00; background-color:#000000; padding:8px; border-color:#cccccc; border-style:single; border-width:2px; tabstops:none;"><text styleclass="terminal" style="font-family:&apos;Courier New&apos;; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#ffffff; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">cd ../../</text><br/><text styleclass="terminal" style="font-family:&apos;Courier New&apos;; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#ffffff; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">jar cf myscripts.jar scripts</text></para>
    <para styleclass="Normal" style="margin-top:16px; margin-bottom:16px; line-height:1.00; background-color:#ffffff; tabstops:none;"><text styleclass="Normal" style="font-family:Verdana; vertical-align:baseline; color:#000000;" translate="true">And save in the folder</text><text styleclass="apple-converted-space" style="font-family:Verdana; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">&#32;</text><text styleclass="Normal" style="font-family:Verdana; font-weight:bold; vertical-align:baseline; color:#000000;" translate="true">./etc/plugins/scripts</text><text styleclass="Normal" style="font-family:Verdana; vertical-align:baseline; color:#000000;" translate="true">.</text></para>
  </body>
</topic>
