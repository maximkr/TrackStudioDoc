<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../helpproject.xsl" ?>
<topic template="Default" lasteditedby="Administrator" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../helpproject.xsd">
  <title translate="true">How to Make Dynamic List of Possible Values of Custom Field</title>
  <body>
    <header>
      <para styleclass="Heading1"><text styleclass="Heading1" translate="true">How to Make Dynamic List of Possible Values of Custom Field</text></para>
    </header>
    <para styleclass="Normal" style="text-indent:48px; background-color:#ffffff; white-space:nowrap; page-break-inside:avoid;"><text styleclass="Normal" style="font-family:Verdana; font-size:12pt; vertical-align:baseline; color:#000000;" translate="true">For making the selection of values possible for custom field from the dropdown list, you will need to create the list itself of type “String” and connect it with the script, corresponding to the interface</text></para>
    <para styleclass="Normal" style="text-indent:48px; background-color:#ffffff; white-space:nowrap; page-break-inside:avoid;"><text styleclass="Normal" style="font-family:Verdana; font-size:12pt; font-weight:bold; vertical-align:baseline; color:#000000;" translate="true">com.trackstudio.external.TaskUDFLookupScript</text><text styleclass="Normal" style="font-family:Verdana; font-size:12pt; vertical-align:baseline; color:#000000;" translate="true">.</text></para>
    <para styleclass="Normal" style="text-indent:48px; background-color:#ffffff; white-space:nowrap; page-break-inside:avoid;"><text styleclass="Normal" style="font-family:Verdana; font-size:12pt; vertical-align:baseline; color:#000000;" translate="true">Here is an example of script, which displays the list of sprints, which can store the history (For Details : о</text><text styleclass="apple-converted-space" style="font-family:Verdana; font-size:12pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">&#32;</text><link displaytype="text" defaultstyle="true" type="weblink" href="http://www.trackstudio.com/scrum.html" styleclass="Normal" style="font-family:Verdana; font-size:12pt; text-decoration:underline; vertical-align:baseline; color:#000000;" translate="true">SCRUM in TrackStudio</link><text styleclass="Normal" style="font-family:Verdana; font-size:12pt; vertical-align:baseline; color:#000000;" translate="true">)</text></para>
    <para styleclass="Code Example"><text styleclass="Code Example" translate="true">package scripts.task_custom_field_lookup;</text><br/><text styleclass="Code Example" translate="true">import com.trackstudio.external.TaskUDFLookupScript;</text><br/><text styleclass="Code Example" translate="true">import com.trackstudio.secured.SecuredTaskBean;</text><br/><text styleclass="Code Example" translate="true">import com.trackstudio.exception.GranException;</text><br/><text styleclass="Code Example" translate="true">import com.trackstudio.app.adapter.AdapterManager;</text><br/><text styleclass="Code Example" translate="true">import java.util.List;</text><br/><text styleclass="Code Example" translate="true">import java.util.ArrayList;</text><br/><text styleclass="Code Example" translate="true">import scripts.CommonScrum;</text><br/><text styleclass="Code Example" translate="true">/**</text><br/><text styleclass="Code Example" translate="true"> * Displays the list of sprints for selection</text><br/><text styleclass="Code Example" translate="true"> */</text><br/><text styleclass="Code Example" translate="true">public class SprintList extends CommonScrum implements TaskUDFLookupScript{</text><br/><text styleclass="Code Example" translate="true"> &#160; &#160;public Object calculate(SecuredTaskBean task) throws GranException {</text><br/><text styleclass="Code Example" translate="true"> &#160; &#160; &#160; &#160;List list = new ArrayList();</text><br/><text styleclass="Code Example" translate="true"> &#160; &#160; &#160; &#160;list.add(&quot;&quot;);</text><br/><text styleclass="Code Example" translate="true"> &#160; &#160; &#160; &#160;String category &#160;= SCRUM_SRINT_CATEGORY;</text><br/><text styleclass="Code Example" translate="true"> &#160; &#160; &#160; &#160;List sprints = AdapterManager.getInstance().getSecuredTaskAdapterManager().getTaskListByQuery(task.getSecure(),</text><br/><text styleclass="Code Example" translate="true"> &#160; &#160; &#160; &#160;&quot;SELECT t.id FROM com.trackstudio.model.Task as t WHERE t.category.id = \&apos;&quot;+category+&quot;\&apos;&quot;);</text><br/><text styleclass="Code Example" translate="true"> &#160; &#160; &#160; &#160;for (SecuredTaskBean t: sprints){</text><br/><text styleclass="Code Example" translate="true"> &#160; &#160; &#160; &#160; &#160; &#160;if (t.canView() &amp;&amp; !t.getStatus().isFinish()){</text><br/><text styleclass="Code Example" translate="true"> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;list.add(t.getName()+&quot; [#&quot;+t.getNumber()+&quot;]&quot;);</text><br/><text styleclass="Code Example" translate="true"> &#160; &#160; &#160; &#160; &#160; &#160;}</text><br/><text styleclass="Code Example" translate="true"> &#160; &#160; &#160; &#160;}</text><br/><text styleclass="Code Example" translate="true"> &#160; &#160; &#160; &#160;return list;</text><br/><text styleclass="Code Example" translate="true"> &#160; &#160;}</text><br/><text styleclass="Code Example" translate="true">}</text></para>
    <para styleclass="Normal" style="page-break-before:always;"></para>
  </body>
</topic>
